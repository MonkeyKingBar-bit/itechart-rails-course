<% if obj.any? %>
  <br />
  <div class="container">
    <table class="table table-striped table-bordered table-hover">
    <thead class="thead-dark">
    <tr>
      <th>Title</th>
      <th>Transactions</th>
      <th>Total amount<th>
    </tr>
    </thead>

    <tbody>
    <% obj.each do |person_category|%>
      <tr>
        <td class="text-center">
          <div class="rounded-pill <%= person_category.category.transaction_type == 'Debit' ? 'btn btn-success btn-lg' : 'btn btn-warning btn-lg' %>">
            <%= link_to person_category.category.title, category_path(person_category.category), class: "link-light"%>
          </div>
        </td>
        <td>
          <% if person_category.money_transactions.any? %>
            <ul class="list-group">
                <% person_category.money_transactions.each do |transaction|%>
                  <li class="list-group-item dflex justify-content-between align-items-center">
                    <div class="d-flex w-100 justify-content-between">
                      <span class="badge bg-primary rounded-pill"><%= transaction.count  %></span>
                      <small><%= transaction.created_at.to_formatted_s(:short) %></small>
                    </div>
                    <br />
                    <div class="d-flex w-50 justify-content-around">
                      <%= link_to 'Update', edit_transaction_path(transaction), class:"btn btn-secondary btn-sm" %> |
                      <%= link_to 'Delete', transaction_path(transaction), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-outline-danger btn-sm" %>
                    </div>
                  </li>
              <%end%>
            </ul>
          <% else %>
            None
          <% end %>
        </td>
        <td class="text-center"><h3><%= person_category.transactions.sum(&:count) %></h3><td>
      </tr>
    <% end %>
    </tbody>
  </table>
  </div>

<% else %>
  <p> No categories yet ... <p>
<% end %>